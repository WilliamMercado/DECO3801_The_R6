{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ryuto\\\\OneDrive\\\\Desktop\\\\2024_Sem2\\\\DECO3801\\\\DECO3801_The_R6\\\\ArtAssistant-3\\\\src\\\\pages\\\\Upload.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { FileUploader } from \"react-drag-drop-files\";\n\n// Allowed image type\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst fileTypes = [\"JPG\", \"PNG\", \"GIF\"];\n\n// Upload\nexport default function Upload() {\n  _s();\n  // Chck if image\n  const [file, setFile] = useState(null);\n  // Chck if search text\n  const [text, setText] = useState('');\n\n  // Handle upload file\n  const handleChange = file => {\n    const reader = new FileReader();\n    reader.onload = e => {\n      setFile(e.target.result);\n    };\n    reader.readAsDataURL(file);\n  };\n\n  // Handle upload text\n  const handleTextChange = event => {\n    setText(event.target.value);\n  };\n\n  // Submit\n  const handleSubmit = async event => {\n    event.preventDefault();\n    const formData = new FormData();\n    if (file) {\n      formData.append('image', file);\n    }\n    formData.append('text', text);\n    try {\n      console.log(\"submitted!\"); // print out a success message\n      const response = await fetch('http://localhost:5000/upload', {\n        method: 'POST',\n        body: formData\n      });\n      if (response.ok) {\n        // Wait for fetch data in json type\n        const result = await response.json();\n        // If success print out\n        console.log('AI generated image:', result);\n      } else {\n        console.error('Upload failed');\n      }\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      backgroundImage: 'url(\"../images/black-1.jpg\")',\n      backgroundSize: 'cover',\n      backgroundPosition: 'center',\n      color: 'black',\n      minHeight: '100vh',\n      padding: '20px'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"center\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"tittle\",\n        children: \"ARTY\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        \"data-mdb-input-init\": true,\n        class: \"form-outline\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(FileUploader, {\n          handleChange: handleChange,\n          name: \"file\",\n          types: fileTypes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '20px'\n          },\n          children: file && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"description\",\n              children: \"Uploaded Image:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: file,\n              alt: \"Uploaded\",\n              style: {\n                maxWidth: '40%',\n                height: '100%'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          class: \"form-control\",\n          id: \"textAreaExample1\",\n          rows: \"4\",\n          value: text,\n          placeholder: \"Enter your description here...\",\n          onChange: handleTextChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"search-btn\",\n          type: \"submit\",\n          value: \"Submit\",\n          children: \"Upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n}\n_s(Upload, \"+81Yz4WIwXmauHdQRHDGlTThkiQ=\");\n_c = Upload;\nvar _c;\n$RefreshReg$(_c, \"Upload\");","map":{"version":3,"names":["React","useState","FileUploader","jsxDEV","_jsxDEV","fileTypes","Upload","_s","file","setFile","text","setText","handleChange","reader","FileReader","onload","e","target","result","readAsDataURL","handleTextChange","event","value","handleSubmit","preventDefault","formData","FormData","append","console","log","response","fetch","method","body","ok","json","error","style","backgroundImage","backgroundSize","backgroundPosition","color","minHeight","padding","children","className","fileName","_jsxFileName","lineNumber","columnNumber","class","onSubmit","name","types","marginTop","src","alt","maxWidth","height","id","rows","placeholder","onChange","type","_c","$RefreshReg$"],"sources":["C:/Users/ryuto/OneDrive/Desktop/2024_Sem2/DECO3801/DECO3801_The_R6/ArtAssistant-3/src/pages/Upload.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { FileUploader } from \"react-drag-drop-files\";\r\n\r\n// Allowed image type\r\nconst fileTypes = [\"JPG\", \"PNG\", \"GIF\"];\r\n\r\n// Upload\r\nexport default function Upload() {\r\n    // Chck if image\r\n    const [file, setFile] = useState(null);\r\n    // Chck if search text\r\n    const [text, setText] = useState('');\r\n\r\n    // Handle upload file\r\n    const handleChange = (file) => {\r\n        const reader = new FileReader();\r\n        reader.onload=(e)=>\r\n            {\r\n                setFile(e.target.result);\r\n            }\r\n        reader.readAsDataURL(file)};\r\n\r\n    // Handle upload text\r\n    const handleTextChange = (event) => {\r\n        setText(event.target.value);\r\n    };\r\n\r\n    // Submit\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n\r\n        const formData = new FormData();\r\n        if (file) {\r\n            formData.append('image', file);\r\n        }\r\n        formData.append('text', text);\r\n\r\n        try {\r\n            console.log(\"submitted!\"); // print out a success message\r\n            const response = await fetch('http://localhost:5000/upload', {\r\n                method: 'POST',\r\n                body: formData,\r\n            });\r\n\r\n            if (response.ok) {\r\n                // Wait for fetch data in json type\r\n                const result = await response.json();\r\n                // If success print out\r\n                console.log('AI generated image:', result);\r\n            } else {\r\n                console.error('Upload failed');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error:', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={{ backgroundImage:'url(\"../images/black-1.jpg\")',backgroundSize: 'cover',\r\n            backgroundPosition: 'center', color: 'black', minHeight: '100vh', padding: '20px' }}>\r\n            {/* Cover image */}\r\n            <center>\r\n                {/* Page Heading */}\r\n                <h1 className=\"tittle\">ARTY</h1>\r\n                {/* Here is the text upload */}\r\n                <form data-mdb-input-init class=\"form-outline\" onSubmit={handleSubmit}>\r\n                    {/* Here is the image upload */}   \r\n                    <FileUploader handleChange={handleChange} name=\"file\" types={fileTypes}/>\r\n                    <div style={{ marginTop: '20px' }}>\r\n                    {file && (\r\n                        <div>\r\n                            <h2 className=\"description\">Uploaded Image:</h2>\r\n                            {/* The uploaded image will appear here */}  \r\n                            <img src={file} alt=\"Uploaded\" style={{ maxWidth: '40%', height: '100%' }} />\r\n                        </div>\r\n                        )}\r\n                    </div>\r\n                    <br></br>\r\n                    <br></br>\r\n                    <textarea class=\"form-control\" id=\"textAreaExample1\" rows=\"4\"  value={text} placeholder=\"Enter your description here...\" onChange={handleTextChange}></textarea>\r\n                    <br></br>\r\n                    <br></br>\r\n                    <button className=\"search-btn\" type=\"submit\" value=\"Submit\" >Upload</button>\r\n                    <br></br>\r\n                    <br></br>\r\n                </form>\r\n            </center>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}